# ğŸš€ Claude Code Router å¼€å‘ç¯å¢ƒå¯åŠ¨æŒ‡å—

## ä¸€é”®å¯åŠ¨è„šæœ¬è¯´æ˜

### åŠŸèƒ½ç‰¹æ€§

`start-dev.sh` æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬ï¼Œæ”¯æŒï¼š

âœ¨ **è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒ**
- æ£€æµ‹æ“ä½œç³»ç»Ÿï¼ˆmacOS, Linux, Windowsï¼‰
- æ£€æµ‹å·²å®‰è£…çš„å¼€å‘å·¥å…·
- æ£€æµ‹åŒ…ç®¡ç†å™¨ï¼ˆbrew, apt, yum, dnf, pacman, chocoï¼‰

ğŸ”§ **è‡ªåŠ¨å®‰è£…ä¾èµ–**
- Node.js 18.x (å¿…éœ€)
- Rust/Cargo (å¿…éœ€)
- Go (å¯é€‰)
- pnpm (å¯é€‰ï¼Œæ¨è)
- ç³»ç»Ÿä¾èµ–åº“ï¼ˆLinuxï¼‰

ğŸ“¦ **æ™ºèƒ½ç®¡ç†**
- è‡ªåŠ¨å®‰è£…å‰ç«¯ä¾èµ–
- æ¸…ç†ç«¯å£å ç”¨
- äº¤äº’å¼è¯¢é—®ç”¨æˆ·
- å½©è‰²è¾“å‡ºæ˜“äºé˜…è¯»

### ä½¿ç”¨æ–¹æ³•

#### å¿«é€Ÿå¯åŠ¨

```bash
cd /path/to/claude-code-router
./start-dev.sh
```

#### é¦–æ¬¡è¿è¡Œ

é¦–æ¬¡è¿è¡Œæ—¶ï¼Œè„šæœ¬ä¼šï¼š

1. **æ£€æµ‹æ“ä½œç³»ç»Ÿå’ŒåŒ…ç®¡ç†å™¨**
   ```
   â„¹ æ“ä½œç³»ç»Ÿ: macos
   â„¹ åŒ…ç®¡ç†å™¨: brew
   ```

2. **æ£€æŸ¥å¼€å‘ç¯å¢ƒ**
   - å¦‚æœç¼ºå°‘ Node.jsï¼Œä¼šè¯¢é—®æ˜¯å¦å®‰è£…
   - å¦‚æœç¼ºå°‘ Rustï¼Œä¼šè¯¢é—®æ˜¯å¦å®‰è£…
   - å¦‚æœç¼ºå°‘ Goï¼Œä¼šè¯¢é—®æ˜¯å¦å®‰è£…ï¼ˆå¯é€‰ï¼‰

3. **å®‰è£…é¡¹ç›®ä¾èµ–**
   - æ£€æŸ¥ `src-ui/node_modules`
   - å¦‚æœªå®‰è£…ï¼Œä¼šè‡ªåŠ¨è¿è¡Œ `npm install` æˆ– `pnpm install`

4. **æ¸…ç†ç«¯å£å ç”¨**
   - æ£€æŸ¥ç«¯å£ 5173 æ˜¯å¦è¢«å ç”¨
   - å¦‚è¢«å ç”¨ï¼Œä¼šè¯¢é—®æ˜¯å¦æ¸…ç†

5. **å¯åŠ¨åº”ç”¨**
   - å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨
   - å¯åŠ¨ Tauri æ¡Œé¢åº”ç”¨
   - æ‰“å¼€åº”ç”¨çª—å£

### ç¯å¢ƒè¦æ±‚

#### å¿…éœ€å·¥å…·

| å·¥å…· | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|------|----------|------|
| Node.js | 18+ | JavaScript è¿è¡Œæ—¶ |
| npm | 9+ | Node.js åŒ…ç®¡ç†å™¨ |
| Rust | 1.70+ | Tauri åç«¯è¯­è¨€ |
| Cargo | 1.70+ | Rust åŒ…ç®¡ç†å™¨ |
| Tauri CLI | 1.5+ | Tauri å‘½ä»¤è¡Œå·¥å…· |

#### å¯é€‰å·¥å…·

| å·¥å…· | è¯´æ˜ |
|------|------|
| Go | æœªæ¥å¯èƒ½ä½¿ç”¨ |
| pnpm | æ›´å¿«çš„åŒ…ç®¡ç†å™¨ |
| Homebrew | macOS åŒ…ç®¡ç†å™¨ |

#### ç³»ç»Ÿä¾èµ– (Linux)

Ubuntu/Debian:
```bash
libwebkit2gtk-4.0-dev
build-essential
libssl-dev
libgtk-3-dev
libsqlite3-dev
```

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¯¢é—®æ˜¯å¦å®‰è£…ã€‚

### æ”¯æŒçš„æ“ä½œç³»ç»Ÿ

âœ… **macOS**
- æ”¯æŒ M1/M2/Intel èŠ¯ç‰‡
- ä½¿ç”¨ Homebrew åŒ…ç®¡ç†å™¨
- è‡ªåŠ¨æ£€æµ‹ Apple Silicon ç¯å¢ƒ

âœ… **Linux**
- Ubuntu/Debian (apt)
- CentOS/RHEL (yum/dnf)
- Arch Linux (pacman)
- å…¶ä»–å‘è¡Œç‰ˆéœ€è¦æ‰‹åŠ¨å®‰è£…

âš ï¸ **Windows**
- æ”¯æŒ Windows 10+
- éœ€è¦æ‰‹åŠ¨å®‰è£… Rust å’Œ Node.js
- å»ºè®®ä½¿ç”¨ WSL2 æˆ– Chocolatey

### äº¤äº’å¼å®‰è£…ç¤ºä¾‹

```bash
$ ./start-dev.sh

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Claude Code Router å¼€å‘ç¯å¢ƒå¯åŠ¨    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â„¹ æ“ä½œç³»ç»Ÿ: macos
â„¹ åŒ…ç®¡ç†å™¨: brew

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬ 1 æ­¥: æ£€æŸ¥å¼€å‘ç¯å¢ƒ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Homebrew Homebrew 4.0.0
âœ“ Node.js v18.17.0
âœ“ npm 9.8.1
âœ“ Cargo 1.70.0
âœ“ Rustc 1.70.0
âš  æœªå®‰è£… Go (å¯é€‰)
? æ˜¯å¦å®‰è£… Go? [y/N]: n
â„¹ è·³è¿‡ Go å®‰è£…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬ 2 æ­¥: æ£€æŸ¥é¡¹ç›®ä¾èµ–
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ å‰ç«¯ä¾èµ–å·²å®‰è£…

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬ 3 æ­¥: æ¸…ç†ç«¯å£å ç”¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ ç«¯å£ 5173 å¯ç”¨

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ç¬¬ 4 æ­¥: å¯åŠ¨åº”ç”¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ ç¯å¢ƒæ£€æŸ¥å®Œæˆï¼Œå³å°†å¯åŠ¨åº”ç”¨...

â„¹ å‰ç«¯åœ°å€: http://localhost:5173
â„¹ åº”ç”¨çª—å£å°†è‡ªåŠ¨æ‰“å¼€...
â„¹ æŒ‰ Ctrl+C åœæ­¢å¼€å‘æœåŠ¡å™¨

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[Tauri åº”ç”¨çª—å£æ‰“å¼€]
```

### è‡ªåŠ¨å®‰è£…è¯¦æƒ…

#### macOS

```bash
# å®‰è£… Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# å®‰è£… Node.js
brew install node@18

# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£… Go (å¯é€‰)
brew install go
```

#### Linux (Ubuntu/Debian)

```bash
# å®‰è£… Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£…ç³»ç»Ÿä¾èµ–
sudo apt-get install -y \
  libwebkit2gtk-4.0-dev \
  build-essential \
  libssl-dev \
  libgtk-3-dev \
  libsqlite3-dev

# å®‰è£… Go (å¯é€‰)
sudo add-apt-repository ppa:longsleep/golang-backports -y
sudo apt-get update
sudo apt-get install -y golang-go
```

### å¸¸è§é—®é¢˜

#### Q: è„šæœ¬å¡åœ¨æŸä¸ªæ­¥éª¤æ€ä¹ˆåŠï¼Ÿ

A: æŒ‰ `Ctrl+C` ä¸­æ–­è„šæœ¬ï¼Œæ‰‹åŠ¨å®‰è£…ç¼ºå¤±çš„å·¥å…·åé‡æ–°è¿è¡Œã€‚

#### Q: ç«¯å£ 5173 è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

A: è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶è¯¢é—®æ˜¯å¦æ¸…ç†ã€‚å¦‚æœä¸æƒ³æ¸…ç†ï¼Œå¯ä»¥æ‰‹åŠ¨åœæ­¢å ç”¨è¿›ç¨‹ï¼š

```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -ti:5173

# åœæ­¢è¿›ç¨‹
kill -9 $(lsof -ti:5173)
```

#### Q: Tauri CLI å®‰è£…éœ€è¦å¤šä¹…ï¼Ÿ

A: ä½¿ç”¨ `cargo install tauri-cli` é¦–æ¬¡å®‰è£…å¯èƒ½éœ€è¦ 5-10 åˆ†é’Ÿï¼Œå› ä¸ºéœ€è¦ä»æºç ç¼–è¯‘ã€‚è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

#### Q: Rust ç¼–è¯‘å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

A: é¦–æ¬¡ç¼–è¯‘éœ€è¦ 5-10 åˆ†é’Ÿæ˜¯æ­£å¸¸çš„ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŠ€å·§åŠ é€Ÿï¼š

```bash
# ä½¿ç”¨ sccache ç¼“å­˜ç¼–è¯‘ç»“æœ
cargo install sccache
export RUSTC_WRAPPER=sccache

# ä½¿ç”¨æ›´å¿«çš„é“¾æ¥å™¨
brew install llvm  # macOS
export RUSTFLAGS="-C link-arg=-fuse-ld=lld"
```

#### Q: Windows ä¸‹å¦‚ä½•ä½¿ç”¨ï¼Ÿ

A: Windows å»ºè®®ä½¿ç”¨ WSL2ï¼š

```bash
# åœ¨ WSL2 ä¸­è¿è¡Œ
wsl
cd /path/to/project
./start-dev.sh
```

æˆ–æ‰‹åŠ¨å®‰è£…å·¥å…·åä½¿ç”¨ Git Bash è¿è¡Œã€‚

#### Q: å¦‚ä½•è·³è¿‡äº¤äº’å¼è¯¢é—®ï¼Ÿ

A: å¯ä»¥ä¿®æ”¹è„šæœ¬ä¸­çš„é»˜è®¤å€¼ï¼Œæˆ–æå‰å®‰è£…æ‰€æœ‰å·¥å…·ã€‚

#### Q: å¦‚ä½•åªæ£€æŸ¥ç¯å¢ƒä¸å¯åŠ¨åº”ç”¨ï¼Ÿ

A: å¯ä»¥ä¿®æ”¹è„šæœ¬ï¼Œæ³¨é‡Šæ‰æœ€åçš„ `cargo tauri dev` è¡Œã€‚

### æ‰‹åŠ¨å¯åŠ¨æ–¹å¼

å¦‚æœä¸æƒ³ä½¿ç”¨è„šæœ¬ï¼Œå¯ä»¥æ‰‹åŠ¨å¯åŠ¨ï¼š

#### æ–¹å¼ 1: ä½¿ç”¨ Tauri CLIï¼ˆæ¨èï¼‰

```bash
cd src-tauri
cargo tauri dev
```

è¿™ä¼šè‡ªåŠ¨å¯åŠ¨å‰ç«¯ Vite æœåŠ¡å™¨ã€‚

#### æ–¹å¼ 2: åˆ†åˆ«å¯åŠ¨

**ç»ˆç«¯ 1 - å¯åŠ¨å‰ç«¯**:
```bash
cd src-ui
npm run dev
```

**ç»ˆç«¯ 2 - å¯åŠ¨åç«¯**:
```bash
cd src-tauri
cargo tauri dev
```

### è„šæœ¬å‚æ•°è¯´æ˜

å½“å‰ç‰ˆæœ¬ä¸æ”¯æŒå‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰€æœ‰é…ç½®é€šè¿‡äº¤äº’å¼è¯¢é—®å®Œæˆã€‚

æœªæ¥å¯èƒ½æ”¯æŒï¼š
```bash
./start-dev.sh --skip-checks    # è·³è¿‡ç¯å¢ƒæ£€æŸ¥
./start-dev.sh --auto-install   # è‡ªåŠ¨å®‰è£…æ‰€æœ‰ç¼ºå¤±å·¥å…·
./start-dev.sh --no-go          # ä¸å®‰è£… Go
```

### æ•…éšœæ’é™¤

#### ç¯å¢ƒå˜é‡é—®é¢˜

å¦‚æœå®‰è£…å·¥å…·åä»ç„¶æç¤ºæœªæ‰¾åˆ°ï¼Œå¯èƒ½éœ€è¦åˆ·æ–°ç¯å¢ƒå˜é‡ï¼š

```bash
# é‡æ–°åŠ è½½ shell é…ç½®
source ~/.bashrc  # æˆ– ~/.zshrc

# æˆ–é‡æ–°æ‰“å¼€ç»ˆç«¯
```

#### æƒé™é—®é¢˜

```bash
# å¦‚æœè„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™
chmod +x start-dev.sh

# å¦‚æœéœ€è¦ sudo æƒé™
# æŸäº›æ“ä½œï¼ˆå¦‚å®‰è£…ç³»ç»Ÿä¾èµ–ï¼‰ä¼šè‡ªåŠ¨è¯·æ±‚ sudo
```

#### ç½‘ç»œé—®é¢˜

å¦‚æœä¸‹è½½å¤±è´¥ï¼Œå¯ä»¥ï¼š

1. ä½¿ç”¨ä»£ç†
```bash
export http_proxy=http://proxy.example.com:8080
export https_proxy=http://proxy.example.com:8080
```

2. ä½¿ç”¨å›½å†…é•œåƒ
```bash
# npm ä½¿ç”¨æ·˜å®é•œåƒ
npm config set registry https://registry.npmmirror.com

# Rust ä½¿ç”¨ USTC é•œåƒ
export RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static
export RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup
```

### ç›¸å…³æ–‡æ¡£

- [README.md](./README.md) - é¡¹ç›®æ€»ä½“è¯´æ˜
- [è§„æ ¼æ–‡æ¡£](./specs/001-claude-code-proxy/) - è¯¦ç»†è®¾è®¡æ–‡æ¡£
- [å¿«é€Ÿå¼€å§‹](./specs/001-claude-code-proxy/quickstart.md) - å¼€å‘æŒ‡å—

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€åæ›´æ–°**: 2025-11-10
